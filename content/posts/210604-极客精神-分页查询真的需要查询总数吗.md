---
title: "极客精神 - 分页查询你真的需要查询总数吗？"
date: 2021-04-14T16:35:21+08:00
tags: ["分页查询","分页","查询","搜索"]
categories: ["实践"]
draft: true
---

在查询较大的数据量下，我们会使用分页查询数据，以减少返回的数据量，提高查询效率。

根据笔者多年的从业经历，我们实现分页查询时，同时会将**分页查询结果**与**查询数据的总数量**进行绑定（即在查询分页时同时查询匹配的总数量）。

**但是笔者想问，我们真的需要这样做吗？在什么情况下我们需要查询总数？是不是大多数情况我们并不需要查询总数？分页组件如何更高效的使用？**

# 分页

使用 SELECT 查询时，如果结果集数据量很大，比如几万行数据，放在一个页面显示的话数据量太大，不如分页显示，每次显示100条。

要实现分页功能，实际上就是从结果集中显示第 1~100 条记录作为第1页，显示第 101~200 条记录作为第2页，以此类推。

# 查询总数的场景A

![](../../static/images/210604/20210604154039.png)

在这个场景中前端界面中需要显示**匹配数量**，所以后端需要查询总数量并渲染在界面中。

# 查询总数的场景B

![](../../static/images/210604/20210604154108.png)

https://search.gitee.com/?skin=rec&type=repository&q=IM&pageno=11


# 分页查询

## 示例1 - 笔者工作中遇到的常见作法
